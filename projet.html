<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Projet — TE Jimmy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="styles/global.css">
<link rel="stylesheet" href="styles/projet.css">
<link href="https://fonts.googleapis.com/css2?family=Holtwood+One+SC&family=Jockey+One&family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>

<nav class="main-nav">
    <a href="index.html" class="nav-logo">TE JIMMY</a>
    <ul class="nav-links">
        <li><a href="index.html">Accueil</a></li>
        <li><a href="projets.html">Projets</a></li>
        <li><a href="#about">À propos</a></li>
        <li><a href="#contact">Contact</a></li>
    </ul>
</nav>

<main class="project-page">
    <div class="project-header">
        <h1 id="project-title"></h1>
        <span id="project-tag"></span>
    </div>

    <div class="project-visual">
        <img id="project-image" src="" alt="">
    </div>

    <div class="project-details">
        <p id="project-overview"></p>

        <ul class="project-meta">
            <li><strong>Dates :</strong> <span id="project-dates"></span></li>
            <li><strong>Compétences :</strong> <span id="project-skills"></span></li>
            <li><strong>Contexte :</strong> <span id="project-context"></span></li>
        </ul>

        <div class="project-extra">
            <p id="project-overview2"></p>
            <p><strong>Logiciels utilisés :</strong> <span id="project-software"></span></p>
            <button id="project-link-btn">Voir le projet</button>
        </div>
    </div>
</main>

<footer>
    <div class="footer-container">
        <p>© 2025 TE Jimmy</p>
    </div>
</footer>

<script>
const params = new URLSearchParams(window.location.search);
const projectId = params.get("id");

fetch('json/projects.json')
  .then(res => res.json())
  .then(projects => {
      const p = projects.find(proj => proj.id == projectId);
      if(!p) return;

      // Injecter les données
      document.getElementById('project-title').textContent = p.title;
      document.getElementById('project-tag').textContent = p.tag;
      document.getElementById('project-image').src = p.image;
      document.getElementById('project-image').alt = p.title;
      document.getElementById('project-overview').textContent = p.overview;
      document.getElementById('project-overview2').textContent = p.overview2;
      document.getElementById('project-dates').textContent = p.dates;
      document.getElementById('project-skills').textContent = p.skills;
      document.getElementById('project-context').textContent = p.context;
      document.getElementById('project-software').textContent = p.software;
      document.getElementById('project-link-btn').onclick = () => window.open(p.link, "_blank");
  });

// Nav hide on scroll
const nav = document.querySelector('.main-nav');
let lastScrollY = window.scrollY;
window.addEventListener('scroll', () => {
    const currentScrollY = window.scrollY;
    if(currentScrollY > lastScrollY && currentScrollY > 50){
        nav.classList.add('nav-hidden');
    } else {
        nav.classList.remove('nav-hidden');
    }
    lastScrollY = currentScrollY;
});
</script>

</body>
</html>
